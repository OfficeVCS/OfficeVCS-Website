<div id="navbar">
    <div id="navbar-left">
        <img src="../icons/icon.png" alt="Main Icon">
    </div>
    <div id="navbar-right">
        <div class="modal-toggle">
            <img src="../icons/landing/sun.png" alt="">
            <label class="switch">
                <input type="checkbox" class="toggle-checkbox" name="toggleCheckbox" id="theme-checkbox">
                <span class="slider"></span>
            </label>
            <img src="../icons/landing/moon.png" alt="">
        </div>
        <div id="shared-people">
            <div style="background:var(--profile-color-1);">RK</div>
            <div style="background:var(--profile-color-4);">SS</div>
            <div style="background:var(--profile-color-3);">VJ</div>
            <div style="background:var(--profile-color-6);">AP</div>
        </div>
        <div class="navbar-button" id="help-button"></div>
        <div class="navbar-button" id="share-button"></div>
        <div id="profile-picture" class="notification-profile">RK</div>
    </div>
</div>
<style>
    .modal-toggle{
        display:flex;
        flex-direction:row;
        align-items:center;
        gap:12px;
    }

    .modal-toggle > img{
        height:24px;
        filter: invert(var(--image-invert));
    }

    .switch {
        position: relative;
        display: inline-block;
        width: 42px;
        height: 24px;
    }

    .switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }

    #navbar{
        width:calc(100vw - 48px);
        padding:0 24px;
        height:72px;
        display:flex;
        flex-direction:row;
        justify-content:space-between;
        align-items:center;
        background:var(--bg-color-1);
        position:fixed;
        z-index:2;
        top:0;
        left:0;
    }

    #navbar > div{
        display:flex;
        flex-direction:row;
        align-items:center;
        gap:12px;
    }

    .navbar-button{
        width:48px;
        height:48px;
        border-radius:6px;
        display:flex;
        flex-direction:row;
        align-items:center;
        justify-content:center;
        cursor:pointer;
        background:var(--bg-color-1);
        transition-duration:250ms;
    }

    .navbar-button:hover{
        background:var(--bg-color-2);
    }

    .navbar-button::after{
        content:'';
        width:24px;
        height:24px;
        background-size:cover;
        background-position:center;
        background-repeat:no-repeat;
        filter:invert(var(--image-invert));
    }

    #help-button::after{
        background-image:url("../icons/landing/help.png");
    }

    #help-button:hover::after{
        background-image:url("../icons/landing/help.gif");
    }

    #share-button::after{
        background-image:url("../pages/icons/share.png");
    }

    #share-button:hover::after{
        background-image:url("../pages/icons/share.gif");
    }

    #shared-people{
        display:flex;
        flex-direction:row;
        align-items:center;
        justify-content:flex-start;
    }

    #shared-people > div{
        display:flex;
        flex-direction:row;
        align-items:center;
        justify-content:center;
        font-size:12px;
        color:white;
        width:24px;
        height:24px;
        border-radius:50%;
        margin-left:-6px;
    }

    #navbar-left > img:first-of-type{
        height:48px;
        width:48px;
    }

    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: var(--border-color);
        -webkit-transition: .4s;
        transition: .4s;
        border-radius: 34px;
    }

    .slider:before {
        position: absolute;
        content: "";
        height: 18px;
        width: 18px;
        left: 3px;
        bottom: 3px;
        background-color: white;
        -webkit-transition: .4s;
        transition: .4s;
        border-radius: 50%;
    }

    .toggle-checkbox:checked + .slider {
        background-color: var(--accent-color);
    }

    .toggle-checkbox:focus + .slider {
        box-shadow: 0 0 1px var(--accent-color);
    }

    .toggle-checkbox:checked + .slider:before {
        -webkit-transform: translateX(18px);
        -ms-transform: translateX(18px);
        transform: translateX(18px);
    }
</style>
<script>
    function getToken() {
        return sessionStorage.getItem('token') || localStorage.getItem('token');
    }

    function removeToken() {
        sessionStorage.removeItem('token');
        localStorage.removeItem('token');
    }

    function initializeNavbar(){
        const scheme = localStorage.getItem('colorscheme')
        const elem = document.getElementById("theme-checkbox")

        if(scheme === "light"){
            elem.checked = false;
        } else if(scheme === "dark"){
            elem.checked = true;
        }
    }

    document.getElementById("theme-checkbox").onchange = function(){
        const elem = document.getElementById("theme-checkbox")

        if(elem.checked){
            localStorage.setItem('colorscheme', 'dark');
            initializeColorScheme("dark")
        } else {
            localStorage.setItem('colorscheme', 'light');
            initializeColorScheme("light")
        }
    }

    initializeNavbar();
</script>